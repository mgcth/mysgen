<!DOCTYPE html>
<html lang="{{ DEFAULT_LANG }}">
<head>
  {% block head %}
  <title>{% block title %}{{ SITENAME }}{% endblock title %}</title>
  <!--[if lte IE 10]>
    <div class="old-browsers">Page broken. Upgrade your browser or make a switch to something better.</div>
  <![endif]-->
  <!-- Define charset -->
  <meta charset="utf-8" />
  <!-- End Define charset -->
  <!-- Define viewport -->
  <meta name=viewport id="viewport" content="width=device-width, initial-scale=1">
  <!-- Define viewport -->
  <!-- Favicon -->
  <link rel="shortcut icon" href="{{SITEURL}}/theme/css/favicon.ico">
  <!-- End Favicon -->
  <!-- Load CSS -->
  <link rel="stylesheet" type="text/css" href="{{ SITEURL }}/theme/css/style.css" />
  <noscript>
    <link rel="stylesheet" type="text/css" href="{{ SITEURL }}/theme/css/noscript_style.css" />
  </noscript>
  <!-- End Load CSS -->
  <!-- Feeds -->
  {% if FEED_ALL_ATOM %}
  <link href="{{ FEED_DOMAIN }}/{{ FEED_ALL_ATOM }}" type="application/atom+xml" rel="alternate" title="{{ SITENAME }} Full Atom Feed" />
  {% endif %}
  {% if FEED_ALL_RSS %}
  <link href="{{ FEED_DOMAIN }}/{{ FEED_ALL_RSS }}" type="application/rss+xml" rel="alternate" title="{{ SITENAME }} Full RSS Feed" />
  {% endif %}
  {% if FEED_ATOM %}
  <link href="{{ FEED_DOMAIN }}/{{ FEED_ATOM }}" type="application/atom+xml" rel="alternate" title="{{ SITENAME }} Atom Feed" />
  {% endif %}
  {% if FEED_RSS %}
  <link href="{{ FEED_DOMAIN }}/{{ FEED_RSS }}" type="application/rss+xml" rel="alternate" title="{{ SITENAME }} RSS Feed" />
  {% endif %}
  {% if CATEGORY_FEED_ATOM and category %}
  <link href="{{ FEED_DOMAIN }}/{{ CATEGORY_FEED_ATOM|format(category.slug) }}" type="application/atom+xml" rel="alternate" title="{{ SITENAME }} Categories Atom Feed" />
  {% endif %}
  {% if CATEGORY_FEED_RSS and category %}
  <link href="{{ FEED_DOMAIN }}/{{ CATEGORY_FEED_RSS|format(category.slug) }}" type="application/rss+xml" rel="alternate" title="{{ SITENAME }} Categories RSS Feed" />
  {% endif %}
  {% if TAG_FEED_ATOM and tag %}
  <link href="{{ FEED_DOMAIN }}/{{ TAG_FEED_ATOM|format(tag.slug) }}" type="application/atom+xml" rel="alternate" title="{{ SITENAME }} Tags Atom Feed" />
  {% endif %}
  {% if TAG_FEED_RSS and tag %}
  <link href="{{ FEED_DOMAIN }}/{{ TAG_FEED_RSS|format(tag.slug) }}" type="application/rss+xml" rel="alternate" title="{{ SITENAME }} Tags RSS Feed" />
  {% endif %}
  <!-- End Feeds -->
  {% endblock head %}
</head>

<body>
  <div class="dummyJS">
  <!-- Loading screen if JavaScript is enabled -->
  <noscript>All content might not be visible. Activate JavaScript.</noscript>
  <div id="loading">
    <div id="icon" class="logo">
      <div class="box1"></div>
      <div class="box2"></div>
      <div class="box3"></div>
      <div class="box4"></div>
      <div class="box5"></div>
    </div>
  </div>
  <!-- End Loading screen if JavaScript is enabled -->

  <!-- Load and Share data -->
  <script type="text/javascript">
  // Pageload (avoid jQuery so it can be load after)
  var loadingDOM = document.getElementById("loading");
  loadingDOM.style.display = "flex";
  // End Pageload

  // Share data
  // Define which page and set dummy
  var whichPageActive = 0;

  // Deffine pages variable
  var pages = {{MENUITEMS}}.map(x => x[0]);
  </script>
  <!-- End Load and Share data -->

  <!-- Load jQuery -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script>window.jquery || document.write('<script type="text/javascript" src="{{ SITEURL }}/theme/jquery/2.1.4/jquery.min.js">\x3C/script>')</script>
  <!-- End Load jQuery -->
  </div>

  <nav id="nav" class="nav">
    <ul>
      <li id="menu-icon">
        <div class="logo">
          <div class="box1"></div>
          <div class="boxes_123">
            <div class="box2"></div>
            <div class="box3"></div>
            <div class="box4"></div>
          </div>
          <div class="box5"></div>
        </div>
      </li>
      {% if MENUITEMS %}
      {% for title, link in MENUITEMS %}
      <li id="nav_{{ title }}" title="{{ title }}">
        <a class="nav_{{ title }} nav_link {% if ( title == "home" and page_name == "index" ) or ( title == "archives" and ( page_name == "archives" or page_name == "categories" or page_name == "tags" ) ) %}activeMenu{% endif %}" title="{{ title }}" href="{{ SITEURL }}{{link}}">
          {{title}}
        </a>
      </li>
      {% endfor %}
      {% endif %}
    </ul>
  </nav>

  <main id="main" class="main">
    {% block content %}
    {% endblock %}
  </main>

  <div class="dummyJS">
    <!-- Load Prefixfree -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prefixfree/1.0.7/prefixfree.min.js"></script>
    <script>window.prism || document.write('<script type="text/javascript" src="{{ SITEURL }}/theme/prefixfree/1.0.7/prefixfree.min.js">\x3C/script>')</script>
    <!-- End Load Prefixfree -->
    <!-- Load Prism -->
    <script type="text/javascript" src="{{ SITEURL }}/theme/prism/0.0.1/prism.js"></script>
    <script type="text/javascript">
      var cb = function() {
        var l = document.createElement('link'); l.rel = 'stylesheet';
        l.href = '{{ SITEURL }}/theme/prism/0.0.1/prism.css';
        var h = document.getElementsByTagName('head')[0]; h.parentNode.insertBefore(l, h);
      };
      var raf = requestAnimationFrame || mozRequestAnimationFrame ||
          webkitRequestAnimationFrame || msRequestAnimationFrame;
      if (raf) raf(cb);
      else window.addEventListener('load', cb);
    </script>
    <!-- End Load Prism -->
    <!-- Load MathJax -->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      messageStyle: "none",
      extensions: ["tex2jax.js"],
      jax: ["input/TeX", "output/HTML-CSS"],
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
      },
      "HTML-CSS": { preferredFont: "STIX-Web" }
    });
    </script>
    <script type="text/javascript" src="cdnjs.cloudflare.com/ajax/libs/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <!-- End Load MathJax -->
    <!-- Load three.js -->
    <!-- <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r68/three.min.js"></script>
    <script>window.processing || document.write('<script type="text/javascript" src="{{ SITEURL }}/theme/threejs/r68/three.min.js">\x3C/script>')</script> -->
    <!-- End Load three.js -->
    <!-- Load Site scripts -->
    <script type="text/javascript" src="{{ SITEURL }}/theme/site_script.js"></script>
    <script type="text/javascript" src="{{ SITEURL }}/theme/animation.js"></script>
    <script type="text/javascript" src="{{ SITEURL }}/theme/navigation.js"></script>
    <!-- End Load Site scripts -->

    <!-- Load Graphics -->
    <!-- <script src="{{ SITEURL }}/theme/graphics/graphics_01.js"></script> -->
    <!-- End Load Graphics -->

    <!-- Pageload continue and Page end -->
    <script type="text/javascript">
    // Page end
    $(document).ready(function () {
      // Initial style of the frames
      animatePage(whichPageActive);

      Prism.highlightAll();
      MathJax.Hub.Typeset();
      Hyphenator.run();
    });
    // End Page end



    // Pageload continue
    // When loaded, fade out loading div
    $(window).load(function() {
      $('#loading').css({
        "opacity": 0,
        "transform": "translateZ(0)",
        "transition": "all " + 500 + "ms"
      });

      $("#loading").delay(500).queue( function(next){
        $(this).css({"display": "none"});
        next();
      });
    });
    // End Pageload continue
    </script>
    <!-- End Pageload continue and Page end -->
  </div>
</body>
</html>
